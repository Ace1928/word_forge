# 🔮 EIDOSIAN CODE POLISHING PROTOCOL v3.14.15 🧬

> _"Form follows function; clarity emerges from precision."_
>
## 📋 OBJECTIVE

Transform provided code through recursive refinement—surgical enhancement of quality without altering core behavior. This is not a feature request but an optimization mandate.

## 🛠️ REFINEMENT DIRECTIVES

```ascii
┌─────────────────────────────────────────────────────────┐
│ PROCESS:                                                │
│                                                         │
│ Code → Analysis → Refinement → Validation → Deployment  │
│  ↑                                         │            │
│  └─────────────── Verify ──────────────────┘            │
└─────────────────────────────────────────────────────────┘
```

### 1️⃣ STRUCTURAL INTEGRITY

- **Reduce Complexity** — Eliminate cognitive load without sacrificing capability
  - Collapse nested conditions where logical flow permits
  - Replace flag parameters with explicit function variants
  - Convert procedural blocks to functional patterns where appropriate

- **Enforce Modularity** — Each component does one thing with perfect isolation
  - Extract repeated logic into dedicated functions with clear contracts
  - Apply interface segregation—smaller, purpose-specific abstractions
  - Ensure each module has single responsibility and clear boundaries

- **Remove Redundancy** — DRY without compromising readability
  - Consolidate duplicate logic without creating indirect confusion
  - Parameterize similar functions without overabstracting
  - Apply composition over inheritance for maximum flexibility

### 2️⃣ TECHNICAL PRECISION

- **Static Typing** — Make illegitimate states unrepresentable
  - No use of `Any` type—explicit is better than implicit
  - Use union types instead of optional parameters where appropriate
  - Leverage type aliases and generics for complex structures

- **Error Handling** — Fail gracefully, explain precisely
  - Convert defensive programming to type-enforced contracts
  - Custom exceptions with contextual diagnostics
  - Errors as values, not events—explicit error return paths

- **Performance Optimization** — Do more with less
  - Identify computational bottlenecks through profiling
  - Optimize algorithms before micro-optimizations
  - Measure impact of changes with benchmarks

### 3️⃣ COMMUNICATION EXCELLENCE

- **Self-Documenting Design** — Code that speaks its purpose
  - Rename variables/functions to eliminate need for comments
  - Structure reveals intent—order and grouping communicate meaning
  - Extract complex expressions into named components

- **Documentation Standards** — Google-style Napoleon docstrings
  - Args/Returns/Raises blocks with type annotations
  - Examples that demonstrate both typical and edge cases
  - Implementation notes for non-obvious design decisions

- **Code Signposting** — Guide the reader's understanding
  - Header comments for logical sections within large files
  - Type hints that tell a story about data flow
  - ASCII diagrams for complex interactions

## ⚠️ CONSTRAINTS

┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ • **Zero Behavioral Changes** — Existing logic must remain identical   ┃
┃ • **Complete Retrocompatibility** — No breaking changes to interfaces  ┃
┃ • **Minimal Diffs** — Change no more than necessary to achieve quality ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

## 📦 DELIVERABLES

1. Refined, typed, and documented code—ready for immediate deployment
2. No explanatory prose—the code must speak entirely for itself

## 🧙‍♂️ EIDOSIAN QUALITY CHECK

Your refinement passes the Eidosian test when:

```ascii
╭───────────────────────────────────────────────────────────╮
│ ✓ Further removal would break functionality               │
│ ✓ Structure prevents invalid state by design              │
│ ✓ Names reveal intent without requiring comments          │
│ ✓ Types enforce correctness at compile time               │
│ ✓ Error handling is explicit, precise, and informative    │
│ ✓ Performance improvements are measurable, not speculative│
│ ✓ The final result feels inevitable—like mathematics      │
╰───────────────────────────────────────────────────────────╯
```

> "The goal isn't to write code that works—it's to design systems where incorrect code cannot exist."_

Ensure this is fully and completely self documented and typed and functional. Complete retrocompatability. Fully Eidosian.
Napoleon style google docs style sphinx compatible doc strings and documentation for all possible aspects. Fully Eidosian. Complete.
